var MediaManager;(function(n){"use strict";n.STORAGE_KEY="MediaManagerIdentity";var t=function(){function t(i){var u,r;this._log=i,u=window.localStorage.getItem(n.STORAGE_KEY),u!==null&&(r=JSON.parse(u),r.hasOwnProperty("userId")&&r.hasOwnProperty("mobileServiceAuthenticationToken")&&(this._storedCredential=r,t._client.currentUser=r))}return t.$inject=["$log"],t._client=new WindowsAzure.MobileServiceClient("https://mediamanager.azure-mobile.net/","zXiNSblOtaOabAuuuuBrFgsqAugjWP23"),t.prototype.login=function(){var i=this;return t._client.login("twitter").then(function(t){var r=JSON.stringify(t);i._storedCredential=r,window.localStorage.setItem(n.STORAGE_KEY,r)})},t.prototype.logout=function(){this._storedCredential=null,window.localStorage.removeItem(n.STORAGE_KEY),t._client.logout()},t.prototype.getIsLoggedIn=function(){return t._client.currentUser!==null},t.prototype.getUserName=function(){return t._client.currentUser.userId},t.prototype.getToken=function(){return this._storedCredential==null?null:this._storedCredential.mobileServiceAuthenticationToken},t}();n.AzureMobileService=t,n.App.service("azureMobileService",t)})(MediaManager||(MediaManager={}))