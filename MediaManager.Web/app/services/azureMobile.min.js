var MediaManager;(function(n){"use strict";n.STORAGE_KEY="MediaManagerIdentity";var t=function(){function t(i){var u,r;this._log=i,u=window.localStorage.getItem(n.STORAGE_KEY),u!==null&&(r=JSON.parse(u),r.hasOwnProperty("userId")&&r.hasOwnProperty("mobileServiceAuthenticationToken")&&(t._client.currentUser=r))}return t.$inject=["$log"],t._client=new WindowsAzure.MobileServiceClient("https://mediamanager.azure-mobile.net/","zXiNSblOtaOabAuuuuBrFgsqAugjWP23"),t.prototype.login=function(){return t._client.login("twitter").then(function(t){var i=JSON.stringify(t);window.localStorage.setItem(n.STORAGE_KEY,i)})},t.prototype.logout=function(){window.localStorage.removeItem(n.STORAGE_KEY),t._client.logout()},t.prototype.getIsLoggedIn=function(){return t._client.currentUser!==null},t.prototype.getUserName=function(){return t._client.currentUser.userId},t}();n.AzureMobileService=t,n.App.service("azureMobileService",t)})(MediaManager||(MediaManager={}))